#RetroDevStudio.MetaData.BASIC:7169,BASIC V7.0,uppercase,10,10


# ROOM-OPTIONS(ROOM-ID,KEY,VALUE)
#  KEY: 0=ROOM LABEL (SHOWN IN NAVIGATION), 1=OPTION-TARGET
#  VALUE: ACCORDING TO THE KEY
# RC:ROOM COUNT
1200  RC=20:DIM RO%(RC,1,6)
#     NAVIGATION TARGETS
1202  RO%(0,1,0)=3:RO%(0,1,1)=10:RO%(0,1,2)=4:RO%(0,1,3)=6:RO%(0,1,4)=7:RO%(0,1,5)=17
1204  RO%(1,1,0)=3:RO%(1,1,1)=5 :RO%(1,1,2)=4:RO%(1,1,3)=6:RO%(1,1,4)=7:RO%(1,1,5)=17
1206  RO%(2,1,0)=3:RO%(2,1,1)=8 :RO%(2,1,2)=20:RO%(2,1,3)=4:RO%(2,1,4)=6:RO%(2,1,5)=9:RO%(2,1,6)=17
1208  RO%(3,1,0)=128:RO%(3,1,1)=-1
#1025  RO%(4,0)=128:RO%(4,1)=-1
1210  RO%(5,1,0)=1:RO%(5,1,1)=-1
1212  RO%(6,1,0)=128:RO%(6,1,1)=-1
1214  RO%(7,1,0)=128:RO%(7,1,1)=-1

1216  RO%(8,1,0)=12:RO%(8,1,1)=13:RO%(8,1,2)=14:RO%(8,1,3)=2

1218  RO%(9,1,0)=2:RO%(9,1,1)=-1
#1031  RO%(10,0)=18:RO%(10,1)=19:RO%(10,2)=20:RO%(10,3)=128
1220  RO%(11,1,0)=2:RO%(11,1,1)=-1
1222  RO%(12,1,0)=15:RO%(12,1,1)=15:RO%(12,1,2)=8
1224  RO%(13,1,0)=0:RO%(13,1,1)=-1
1226  RO%(14,1,0)=0:RO%(14,1,1)=-1
1228  RO%(17,1,0)=128:RO%(17,1,1)=-1

#1038  RO%(20,1,0)=21:RO%(20,1,1)=22:RO%(20,1,2)=23:RO%(20,1,3)=24:RO%(20,1,4)=128


#     LABELS
1250  RO%(0,0,0)=1:RO%(0,0,1)=10:RO%(0,0,2)=2:RO%(0,0,3)=4:RO%(0,0,4)=5:RO%(0,0,5)=17
1252  RO%(1,0,0)=1:RO%(1,0,1)=3 :RO%(1,0,2)=2:RO%(1,0,3)=4:RO%(1,0,4)=5:RO%(1,0,5)=17
1254  RO%(2,0,0)=1:RO%(2,0,1)=8 :RO%(2,0,2)=20:RO%(2,0,3)=2:RO%(2,0,4)=4:RO%(2,0,5)=9:RO%(2,0,6)=17
1256  RO%(3,0,0)=-1:RO%(3,0,1)=-1

1258  RO%(5,0,0)=0:RO%(5,0,1)=-1
1260  RO%(6,0,0)=0:RO%(6,0,1)=-1
1262  RO%(7,0,0)=0:RO%(7,0,1)=-1

1264  RO%(8,0,0)=12:RO%(8,0,1)=13:RO%(8,0,2)=14:RO%(8,0,3)=0

1266  RO%(9,0,0)=15:RO%(9,0,1)=16:RO%(9,0,2)=0
1267  RO%(10,0,0)=13:RO%(10,0,1)=7:RO%(10,0,2)=6:RO%(10,0,3)=0

1268  RO%(11,0,0)=0:RO%(11,0,1)=-1
1270  RO%(12,0,0)=15:RO%(12,0,1)=15:RO%(12,0,2)=8
1272  RO%(13,0,0)=0:RO%(13,0,1)=-1
1274  RO%(14,0,0)=0:RO%(14,0,1)=-1
1276  RO%(17,0,0)=0:RO%(17,0,1)=-1

1278  RO%(20,0,0)=21:RO%(20,0,1)=22:RO%(20,0,2)=23:RO%(20,0,3)=24:RO%(20,0,4)=0


# CM%(ROOM-ID,#): CHOICEMENU
# 0: INPUT-LENGTH (PREVIOUSLY VARIABLE IL)
# 1: OPTION COUNT (PREVIOUSLY VARIABLE OC)
1450  DIM CM%(RC,1)
1451  CM%(0,0)=10:CM%(0,1)=5
1452  CM%(1,0)=10:CM%(1,1)=5
1453  CM%(2,0)=10:CM%(2,1)=6
1454  CM%(3,0)=11:CM%(3,1)=15
1455  CM%(4,0)=10:CM%(4,1)=2
1456  CM%(5,0)=10:CM%(5,1)=0
1457  CM%(6,0)=10:CM%(6,1)=0
1458  CM%(7,0)=10:CM%(7,1)=0
1459  CM%(8,0)=10:CM%(8,1)=3
1460  CM%(9,0)=18:CM%(9,1)=2
1461  CM%(10,0)=9:CM%(10,1)=3
1462  CM%(11,0)=10:CM%(11,1)=0
1463  CM%(12,0)=10:CM%(12,1)=2
1464  CM%(13,0)=10:CM%(13,1)=0
1465  CM%(14,0)=10:CM%(14,1)=0
1466  CM%(15,0)=10:CM%(15,1)=1
1467  CM%(16,0)=10:CM%(16,1)=2
1468  CM%(17,0)=10:CM%(17,1)=0
1469  CM%(18,0)=7:CM%(18,1)=4
1470  CM%(19,0)=10:CM%(19,1)=0
1472  CM%(20,0)=10:CM%(20,1)=4

####
# FILE STRUCTURE
# 0: OFFSET ROOM-1
# 1: ENTRIES ROOM-1
# 2: OFFSET ROOM-2
# 3: ENTRIES ROOM-2

# AT OFFSET: 1 BYTE PER ENTRY
# INDEX OF ROOM-ENTRIES IS ROOM-ID X 2

# WRITE LABELS
# OS:OFFSET
2000 PA=DEC("1300")
2001 O1=0:O2=(RC+1)*3
2002 BANK 0

2010 FOR R=0 TO RC

2012  PRINT "R="R",IDX="O1",OFF="O2",WDT="CM%(R,0)",CNT="CM%(R,1)
2013  POKE PA+O1,O2
2014  O1=O1+1

2015  POKE PA+O1,CM%(R,0)
2016  O1=O1+1

2017  POKE PA+O1,CM%(R,1)
2018  O1=O1+1

2020  FOR E=0 TO CM%(R,1)
2021   IF RO%(R,0,E)<0 THEN E=CM%(R,1):GOTO 2035
2022   PRINT " "E"="RO%(R,0,E)" AT "O2
2025   POKE PA+O2,RO%(R,0,E)
2030   O2=O2+1
2035  NEXT

2040 NEXT


2100 PRINT "DONE. INSERT DISK"
2110 GETKEY I$

2120 BSAVE "@NAVLABELS",U8,P(PA)TOP(PA+O2),B0

